<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Gá»­i tin nháº¯n Ä‘áº¿n ESP32</title>
</head>
<body>
  <h2>âœ‰ï¸ Gá»­i tin nháº¯n Ä‘áº¿n Firebase</h2>
  <form id="form">
    <input type="text" id="msg" placeholder="Nháº­p ná»™i dung..." required />
    <button type="submit">Gá»­i</button>
  </form>

  <h3>ğŸ“ Tin nháº¯n vá»«a gá»­i:</h3>
  <p id="latestMsg">ChÆ°a cÃ³</p>

  <p id="status"></p>

  <script>
    const DB_URL = "https://tung-7d5d3-default-rtdb.asia-southeast1.firebasedatabase.app/message.json";

    document.getElementById("form").addEventListener("submit", async function (e) {
      e.preventDefault();

      const msg = document.getElementById("msg").value.trim();
      if (!msg) return;

      const res = await fetch(DB_URL, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(msg)
      });

      if (res.ok) {
        document.getElementById("status").innerText = "âœ… Gá»­i thÃ nh cÃ´ng!";
        document.getElementById("latestMsg").innerText = msg;
        document.getElementById("msg").value = "";
      } else {
        document.getElementById("status").innerText = "âŒ Gá»­i tháº¥t báº¡i!";
      }
    });
  </script>
</body>
</html>